{"version":3,"file":"index.js","sources":["../src/js/pixabey-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '29142435-196ab0ea47673651fa34d9a29';\nconst baseURL = 'https://pixabay.com/api/';\n\n// 'https://pixabay.com/api/?key=29142435-196ab0ea47673651fa34d9a29&q=yellow+flowers&image_type=photo&pretty=true';\n\nexport function getPhotos(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios.get(baseURL, { params });\n}\n","export function createGallery(list) {\n  return list.map(item => createCard(item)).join('');\n}\n\nfunction createCard(item) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = item;\n  return `        \n        <li>\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n            <ul>\n              <li>\n                <p>Likes</p>\n                <p>${likes}</p>\n              </li>\n              <li>\n                <p>Views</p>\n                <p>${views}</p>\n              </li>\n              <li>\n                <p>Comments</p>\n                <p>${comments}</p>\n              </li>\n              <li>\n                <p>Downloads</p>\n                <p>${downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>`;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotos } from './js/pixabey-api';\nimport { createGallery } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.js-form'),\n  galleryList: document.querySelector('.js-gallery'),\n};\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n\nconst options = {\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nconst gallery = new SimpleLightbox('.gallery a', options);\n\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n  console.dir(e.target);\n\n  const query = e.target.elements.query.value.trim();\n  const isQueryEmpty = !query;\n  if (isQueryEmpty) return console.log('Your query is empty');\n\n  console.log('ðŸš€ ~ onSearchFormSubmit ~ query:', query);\n\n  getPhotos(query)\n    .then(({ data }) => {\n      console.log(data);\n\n      if (data.hits.length === 0) {\n        console.log(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n\n      return data.hits;\n    })\n    .then(items => {\n      refs.galleryList.innerHTML = createGallery(items);\n      gallery.refresh();\n    })\n    .catch(console.log);\n\n  e.target.reset(query);\n}\n"],"names":["API_KEY","baseURL","getPhotos","query","params","axios","createGallery","list","item","createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","onSearchFormSubmit","options","gallery","SimpleLightbox","e","data","items"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAU,2BAIT,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EAAM,IAAIJ,EAAS,CAAE,OAAAG,CAAQ,CAAA,CACtC,CCjBO,SAASE,EAAcC,EAAM,CAClC,OAAOA,EAAK,IAAIC,GAAQC,EAAWD,CAAI,CAAC,EAAE,KAAK,EAAE,CACnD,CAEA,SAASC,EAAWD,EAAM,CACxB,KAAM,CACJ,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGR,EACJ,MAAO;AAAA;AAAA,qBAEYG,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qBAI7BC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAK9B,CChCA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,YAAa,SAAS,cAAc,aAAa,CACnD,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAkB,EAEvD,MAAMC,EAAU,CACd,gBAAiB,MACjB,aAAc,MACd,aAAc,GAChB,EACMC,EAAU,IAAIC,EAAe,aAAcF,CAAO,EAExD,SAASD,EAAmBI,EAAG,CAC7BA,EAAE,eAAc,EAChB,QAAQ,IAAIA,EAAE,MAAM,EAEpB,MAAMnB,EAAQmB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GADqB,CAACnB,EACJ,OAAO,QAAQ,IAAI,qBAAqB,EAE1D,QAAQ,IAAI,mCAAoCA,CAAK,EAErDD,EAAUC,CAAK,EACZ,KAAK,CAAC,CAAE,KAAAoB,KAAW,CAGlB,GAFA,QAAQ,IAAIA,CAAI,EAEZA,EAAK,KAAK,SAAW,EACvB,cAAQ,IACN,0EACV,EACc,IAAI,MACR,0EACV,EAGM,OAAOA,EAAK,IAClB,CAAK,EACA,KAAKC,GAAS,CACbP,EAAK,YAAY,UAAYX,EAAckB,CAAK,EAChDJ,EAAQ,QAAO,CACrB,CAAK,EACA,MAAM,QAAQ,GAAG,EAEpBE,EAAE,OAAO,MAAMnB,CAAK,CACtB"}